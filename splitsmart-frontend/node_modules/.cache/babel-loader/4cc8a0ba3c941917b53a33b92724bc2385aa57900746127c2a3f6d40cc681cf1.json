{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 15000\n});\nAPI.interceptors.request.use(config => {\n  var _config$method;\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  console.log(`→ ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.baseURL}${config.url}`, config.data || '');\n  return config;\n});\nAPI.interceptors.response.use(res => {\n  console.log(`← ${res.status} ${res.config.url}`, res.data);\n  return res;\n}, err => {\n  var _err$response, _err$response2, _err$config, _err$config2, _err$config2$url;\n  const status = (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status;\n  const data = (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data;\n  console.error(`✗ ${status} ${(_err$config = err.config) === null || _err$config === void 0 ? void 0 : _err$config.url}`, data);\n  if (status === 401 && !((_err$config2 = err.config) !== null && _err$config2 !== void 0 && (_err$config2$url = _err$config2.url) !== null && _err$config2$url !== void 0 && _err$config2$url.includes('/auth/'))) {\n    localStorage.clear();\n    window.location.href = '/login';\n  }\n  return Promise.reject(err);\n});\n\n// Unwrap { success, message, data: X } → X\nconst unwrap = res => {\n  const body = res.data;\n  // If it has a data field, return that (the actual payload)\n  if (body && typeof body === 'object' && 'data' in body) return body.data;\n  return body;\n};\nexport const authAPI = {\n  register: async d => unwrap(await API.post('/auth/register', d)),\n  login: async d => unwrap(await API.post('/auth/login', d))\n};\nexport const groupAPI = {\n  getAll: async () => unwrap(await API.get('/groups')),\n  getById: async id => unwrap(await API.get(`/groups/${id}`)),\n  // Backend CreateGroupRequest: name, description, icon, themeColor, type (GroupType enum)\n  create: async d => unwrap(await API.post('/groups', d)),\n  addMember: async (gId, uId) => unwrap(await API.post(`/groups/${gId}/members?userId=${uId}`)),\n  getMembers: async id => unwrap(await API.get(`/groups/${id}/members`)),\n  searchUsers: async q => unwrap(await API.get(`/groups/search-users?q=${encodeURIComponent(q)}`)),\n  joinByCode: async code => unwrap(await API.post(`/groups/join/${code}`))\n};\nexport const expenseAPI = {\n  getByGroup: async (gId, page = 0, size = 20) => unwrap(await API.get(`/expenses/group/${gId}?page=${page}&size=${size}`)),\n  // Backend ExpenseRequest: description, amount, groupId, splitType, category,\n  //   participantIds (EQUAL/PARTIAL), customSplits, percentageSplits\n  create: async d => unwrap(await API.post('/expenses', d)),\n  getById: async id => unwrap(await API.get(`/expenses/${id}`))\n};\nexport const settlementAPI = {\n  getPending: async () => unwrap(await API.get('/settlements/pending')),\n  getByGroup: async gId => unwrap(await API.get(`/settlements/group/${gId}`)),\n  settle: async (id, paymentMethod, txId) => unwrap(await API.post(`/settlements/${id}/settle`, {\n    paymentMethod: paymentMethod || null,\n    transactionId: txId || null\n  })),\n  sendReminder: async id => unwrap(await API.post(`/settlements/${id}/remind`))\n};\nexport const dashboardAPI = {\n  get: async () => unwrap(await API.get('/dashboard'))\n};","map":{"version":3,"names":["axios","API","create","baseURL","headers","timeout","interceptors","request","use","config","_config$method","token","localStorage","getItem","Authorization","console","log","method","toUpperCase","url","data","response","res","status","err","_err$response","_err$response2","_err$config","_err$config2","_err$config2$url","error","includes","clear","window","location","href","Promise","reject","unwrap","body","authAPI","register","d","post","login","groupAPI","getAll","get","getById","id","addMember","gId","uId","getMembers","searchUsers","q","encodeURIComponent","joinByCode","code","expenseAPI","getByGroup","page","size","settlementAPI","getPending","settle","paymentMethod","txId","transactionId","sendReminder","dashboardAPI"],"sources":["D:/SmartSplitter/splitsmart-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: { 'Content-Type': 'application/json' },\n  timeout: 15000,\n});\n\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  console.log(`→ ${config.method?.toUpperCase()} ${config.baseURL}${config.url}`, config.data || '');\n  return config;\n});\n\nAPI.interceptors.response.use(\n  res => {\n    console.log(`← ${res.status} ${res.config.url}`, res.data);\n    return res;\n  },\n  err => {\n    const status = err.response?.status;\n    const data   = err.response?.data;\n    console.error(`✗ ${status} ${err.config?.url}`, data);\n    if (status === 401 && !err.config?.url?.includes('/auth/')) {\n      localStorage.clear();\n      window.location.href = '/login';\n    }\n    return Promise.reject(err);\n  }\n);\n\n// Unwrap { success, message, data: X } → X\nconst unwrap = (res) => {\n  const body = res.data;\n  // If it has a data field, return that (the actual payload)\n  if (body && typeof body === 'object' && 'data' in body) return body.data;\n  return body;\n};\n\nexport const authAPI = {\n  register: async (d) => unwrap(await API.post('/auth/register', d)),\n  login:    async (d) => unwrap(await API.post('/auth/login', d)),\n};\n\nexport const groupAPI = {\n  getAll:      async ()         => unwrap(await API.get('/groups')),\n  getById:     async (id)       => unwrap(await API.get(`/groups/${id}`)),\n  // Backend CreateGroupRequest: name, description, icon, themeColor, type (GroupType enum)\n  create:      async (d)        => unwrap(await API.post('/groups', d)),\n  addMember:   async (gId, uId) => unwrap(await API.post(`/groups/${gId}/members?userId=${uId}`)),\n  getMembers:  async (id)       => unwrap(await API.get(`/groups/${id}/members`)),\n  searchUsers: async (q)        => unwrap(await API.get(`/groups/search-users?q=${encodeURIComponent(q)}`)),\n  joinByCode:  async (code)     => unwrap(await API.post(`/groups/join/${code}`)),\n};\n\nexport const expenseAPI = {\n  getByGroup: async (gId, page=0, size=20) =>\n    unwrap(await API.get(`/expenses/group/${gId}?page=${page}&size=${size}`)),\n  // Backend ExpenseRequest: description, amount, groupId, splitType, category,\n  //   participantIds (EQUAL/PARTIAL), customSplits, percentageSplits\n  create:     async (d)   => unwrap(await API.post('/expenses', d)),\n  getById:    async (id)  => unwrap(await API.get(`/expenses/${id}`)),\n};\n\nexport const settlementAPI = {\n  getPending:   async ()        => unwrap(await API.get('/settlements/pending')),\n  getByGroup:   async (gId)     => unwrap(await API.get(`/settlements/group/${gId}`)),\n  settle:       async (id, paymentMethod, txId) =>\n    unwrap(await API.post(`/settlements/${id}/settle`, { paymentMethod: paymentMethod || null, transactionId: txId || null })),\n  sendReminder: async (id)      => unwrap(await API.post(`/settlements/${id}/remind`)),\n};\n\nexport const dashboardAPI = {\n  get: async () => unwrap(await API.get('/dashboard')),\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}