{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\nAPI.interceptors.response.use(res => res, err => {\n  var _err$response;\n  if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n    localStorage.clear();\n    window.location.href = '/login';\n  }\n  return Promise.reject(err);\n});\n\n// Unwrap { success, message, data: {...} } → inner data\nconst unwrap = res => {\n  var _res$data$data, _res$data;\n  return (_res$data$data = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data) !== null && _res$data$data !== void 0 ? _res$data$data : res.data;\n};\nexport const authAPI = {\n  register: async data => unwrap(await API.post('/auth/register', data)),\n  login: async data => unwrap(await API.post('/auth/login', data))\n};\nexport const groupAPI = {\n  getAll: async () => unwrap(await API.get('/groups')),\n  getById: async id => unwrap(await API.get(`/groups/${id}`)),\n  // Backend expects: { name, description, icon, themeColor, type }\n  create: async data => unwrap(await API.post('/groups', data)),\n  // Backend expects: addMember(groupId, userId) as query param\n  addMember: async (groupId, userId) => unwrap(await API.post(`/groups/${groupId}/members?userId=${userId}`)),\n  getMembers: async groupId => unwrap(await API.get(`/groups/${groupId}/members`)),\n  searchUsers: async q => unwrap(await API.get(`/groups/search-users?q=${q}`)),\n  joinByCode: async code => unwrap(await API.post(`/groups/join/${code}`))\n};\nexport const expenseAPI = {\n  getByGroup: async (groupId, page = 0, size = 20) => unwrap(await API.get(`/expenses/group/${groupId}?page=${page}&size=${size}`)),\n  // Backend expects: { description, amount, groupId, splitType, category, participantIds }\n  create: async data => unwrap(await API.post('/expenses', data)),\n  getById: async id => unwrap(await API.get(`/expenses/${id}`))\n};\nexport const settlementAPI = {\n  getPending: async () => unwrap(await API.get('/settlements/pending')),\n  getByGroup: async groupId => unwrap(await API.get(`/settlements/group/${groupId}`)),\n  // Backend uses /settle not /pay\n  markSettled: async id => unwrap(await API.post(`/settlements/${id}/settle`)),\n  sendReminder: async id => unwrap(await API.post(`/settlements/${id}/remind`))\n};\nexport const dashboardAPI = {\n  getSummary: async () => unwrap(await API.get('/dashboard/summary'))\n};\nexport const aiAPI = {\n  getInsights: async () => unwrap(await API.get('/ai/insights'))\n};","map":{"version":3,"names":["axios","API","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","res","err","_err$response","status","clear","window","location","href","Promise","reject","unwrap","_res$data$data","_res$data","data","authAPI","register","post","login","groupAPI","getAll","get","getById","id","addMember","groupId","userId","getMembers","searchUsers","q","joinByCode","code","expenseAPI","getByGroup","page","size","settlementAPI","getPending","markSettled","sendReminder","dashboardAPI","getSummary","aiAPI","getInsights"],"sources":["D:/SmartSplitter/splitsmart-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: { 'Content-Type': 'application/json' }\n});\n\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\nAPI.interceptors.response.use(\n  res => res,\n  err => {\n    if (err.response?.status === 401) {\n      localStorage.clear();\n      window.location.href = '/login';\n    }\n    return Promise.reject(err);\n  }\n);\n\n// Unwrap { success, message, data: {...} } → inner data\nconst unwrap = (res) => res.data?.data ?? res.data;\n\nexport const authAPI = {\n  register: async (data) => unwrap(await API.post('/auth/register', data)),\n  login:    async (data) => unwrap(await API.post('/auth/login', data)),\n};\n\nexport const groupAPI = {\n  getAll:  async ()     => unwrap(await API.get('/groups')),\n  getById: async (id)   => unwrap(await API.get(`/groups/${id}`)),\n  // Backend expects: { name, description, icon, themeColor, type }\n  create:  async (data) => unwrap(await API.post('/groups', data)),\n  // Backend expects: addMember(groupId, userId) as query param\n  addMember: async (groupId, userId) =>\n    unwrap(await API.post(`/groups/${groupId}/members?userId=${userId}`)),\n  getMembers: async (groupId) => unwrap(await API.get(`/groups/${groupId}/members`)),\n  searchUsers: async (q) => unwrap(await API.get(`/groups/search-users?q=${q}`)),\n  joinByCode: async (code) => unwrap(await API.post(`/groups/join/${code}`)),\n};\n\nexport const expenseAPI = {\n  getByGroup: async (groupId, page = 0, size = 20) =>\n    unwrap(await API.get(`/expenses/group/${groupId}?page=${page}&size=${size}`)),\n  // Backend expects: { description, amount, groupId, splitType, category, participantIds }\n  create: async (data) => unwrap(await API.post('/expenses', data)),\n  getById: async (id)  => unwrap(await API.get(`/expenses/${id}`)),\n};\n\nexport const settlementAPI = {\n  getPending:   async ()        => unwrap(await API.get('/settlements/pending')),\n  getByGroup:   async (groupId) => unwrap(await API.get(`/settlements/group/${groupId}`)),\n  // Backend uses /settle not /pay\n  markSettled:  async (id)      => unwrap(await API.post(`/settlements/${id}/settle`)),\n  sendReminder: async (id)      => unwrap(await API.post(`/settlements/${id}/remind`)),\n};\n\nexport const dashboardAPI = {\n  getSummary: async () => unwrap(await API.get('/dashboard/summary')),\n};\n\nexport const aiAPI = {\n  getInsights: async () => unwrap(await API.get('/ai/insights')),\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}