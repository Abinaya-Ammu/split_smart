{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\nAPI.interceptors.response.use(res => res, err => {\n  var _err$response;\n  if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n    localStorage.clear();\n    window.location.href = '/login';\n  }\n  return Promise.reject(err);\n});\nconst unwrap = res => {\n  var _res$data$data, _res$data;\n  return (_res$data$data = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data) !== null && _res$data$data !== void 0 ? _res$data$data : res.data;\n};\nexport const authAPI = {\n  register: async d => unwrap(await API.post('/auth/register', d)),\n  login: async d => unwrap(await API.post('/auth/login', d))\n};\nexport const groupAPI = {\n  getAll: async () => unwrap(await API.get('/groups')),\n  getById: async id => unwrap(await API.get(`/groups/${id}`)),\n  create: async d => unwrap(await API.post('/groups', d)),\n  addMember: async (gId, uId) => unwrap(await API.post(`/groups/${gId}/members?userId=${uId}`)),\n  getMembers: async id => unwrap(await API.get(`/groups/${id}/members`)),\n  searchUsers: async q => unwrap(await API.get(`/groups/search-users?q=${encodeURIComponent(q)}`)),\n  joinByCode: async code => unwrap(await API.post(`/groups/join/${code}`))\n};\nexport const expenseAPI = {\n  getByGroup: async (gId, page = 0, size = 20) => unwrap(await API.get(`/expenses/group/${gId}?page=${page}&size=${size}`)),\n  create: async d => unwrap(await API.post('/expenses', d)),\n  getById: async id => unwrap(await API.get(`/expenses/${id}`))\n};\nexport const settlementAPI = {\n  // GET /api/settlements/pending — settlements where current user is involved\n  getPending: async () => unwrap(await API.get('/settlements/pending')),\n  getByGroup: async gId => unwrap(await API.get(`/settlements/group/${gId}`)),\n  // POST /api/settlements/:id/settle with optional { paymentMethod, transactionId }\n  settle: async (id, paymentMethod, txId) => unwrap(await API.post(`/settlements/${id}/settle`, {\n    paymentMethod,\n    transactionId: txId\n  })),\n  sendReminder: async id => unwrap(await API.post(`/settlements/${id}/remind`))\n};\nexport const dashboardAPI = {\n  // GET /api/dashboard  (not /summary)\n  get: async () => unwrap(await API.get('/dashboard'))\n};","map":{"version":3,"names":["axios","API","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","response","res","err","_err$response","status","clear","window","location","href","Promise","reject","unwrap","_res$data$data","_res$data","data","authAPI","register","d","post","login","groupAPI","getAll","get","getById","id","addMember","gId","uId","getMembers","searchUsers","q","encodeURIComponent","joinByCode","code","expenseAPI","getByGroup","page","size","settlementAPI","getPending","settle","paymentMethod","txId","transactionId","sendReminder","dashboardAPI"],"sources":["D:/SmartSplitter/splitsmart-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API = axios.create({\n  baseURL: 'http://localhost:8080/api',\n  headers: { 'Content-Type': 'application/json' }\n});\n\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\nAPI.interceptors.response.use(res => res, err => {\n  if (err.response?.status === 401) { localStorage.clear(); window.location.href = '/login'; }\n  return Promise.reject(err);\n});\n\nconst unwrap = (res) => res.data?.data ?? res.data;\n\nexport const authAPI = {\n  register: async (d) => unwrap(await API.post('/auth/register', d)),\n  login:    async (d) => unwrap(await API.post('/auth/login', d)),\n};\n\nexport const groupAPI = {\n  getAll:      async ()        => unwrap(await API.get('/groups')),\n  getById:     async (id)      => unwrap(await API.get(`/groups/${id}`)),\n  create:      async (d)       => unwrap(await API.post('/groups', d)),\n  addMember:   async (gId, uId)=> unwrap(await API.post(`/groups/${gId}/members?userId=${uId}`)),\n  getMembers:  async (id)      => unwrap(await API.get(`/groups/${id}/members`)),\n  searchUsers: async (q)       => unwrap(await API.get(`/groups/search-users?q=${encodeURIComponent(q)}`)),\n  joinByCode:  async (code)    => unwrap(await API.post(`/groups/join/${code}`)),\n};\n\nexport const expenseAPI = {\n  getByGroup: async (gId, page=0, size=20) => unwrap(await API.get(`/expenses/group/${gId}?page=${page}&size=${size}`)),\n  create:     async (d)  => unwrap(await API.post('/expenses', d)),\n  getById:    async (id) => unwrap(await API.get(`/expenses/${id}`)),\n};\n\nexport const settlementAPI = {\n  // GET /api/settlements/pending — settlements where current user is involved\n  getPending:  async ()    => unwrap(await API.get('/settlements/pending')),\n  getByGroup:  async (gId) => unwrap(await API.get(`/settlements/group/${gId}`)),\n  // POST /api/settlements/:id/settle with optional { paymentMethod, transactionId }\n  settle:      async (id, paymentMethod, txId) =>\n    unwrap(await API.post(`/settlements/${id}/settle`, { paymentMethod, transactionId: txId })),\n  sendReminder: async (id) => unwrap(await API.post(`/settlements/${id}/remind`)),\n};\n\nexport const dashboardAPI = {\n  // GET /api/dashboard  (not /summary)\n  get: async () => unwrap(await API.get('/dashboard')),\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}